(function($){$.fn.Beholder=function(buttonElement){var obsEl=this,butEl,modalEl,imgEl,imgLinkEl,closerEl,viewButton=[];buttonElement=buttonElement||{el:"div",className:"beholderButton",html:"+"};butEl=document.createElement(buttonElement.el);butEl.className=buttonElement.className;butEl.insertAdjacentHTML("beforeend",buttonElement.html);$(document).on("finishedObserved",function(){$("."+buttonElement.className).on("click",function(e){modalEl=document.createElement("div");modalEl.className="beholderModalBox";
imgEl=document.createElement("img");imgEl.src=this.getAttribute("data-url");modalEl.appendChild(imgEl);imgLinkEl=document.createElement("a");imgLinkEl.setAttribute("href",this.getAttribute("data-url"));imgLinkEl.textContent="Click here for the original source!";modalEl.appendChild(imgLinkEl);imgEl.onload=function(){var prefWindowWidth=$(window).width()-120,prefWindowHeight=$(window).height()-120,trueWindowWidth=$(window).width(),trueWindowHeight=$(window).height();if(imgEl.width>=trueWindowWidth){imgEl.style.width=
prefWindowWidth+"px";imgEl.style.height="auto"}if(imgEl.height>=trueWindowHeight){imgEl.style.height=prefWindowHeight+"px";imgEl.style.width="auto"}};$("body").append(modalEl).css("display","none").fadeIn(300,"linear",function(){$(modalEl).on("click",function(){$(modalEl).fadeOut(300,"linear");$(modalEl).remove()})})})});var len=obsEl.find("a").length,checkURLArr=[],matcher;obsEl.find("a").each(function(i,el){checkURLArr=el.getAttribute("href").split(".");matcher=checkURLArr.pop();if(matcher==="png"||
matcher==="jpg"||matcher==="jpeg"||matcher==="gif"){viewButton[i-1]=butEl.cloneNode(true);viewButton[i-1].setAttribute("data-url",el.getAttribute("href"));el.insertAdjacentHTML("afterend",viewButton[i-1].outerHTML)}if(i==len-1)$(document).trigger("finishedObserved")});return this}})(jQuery);